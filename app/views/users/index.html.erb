<div class="cover-user-index">
  <div class="container d-flex flex-column align-items-center">
    <div class="row mt-5">
      <h1 class="page-title">ユーザ一覧</h1>
    </div>

    <div class="row mt-5 w-50">
      <% @users.each do |user| %>
        <div class="one-post card mt-3">
          <%= link_to user_path(user) do %>

            <div class="d-flex">

              <% if user.profile_image.attached? %>
                <%= image_tag user.profile_image.variant(resize_to_fill: [50, 50]),
                      class: "mt-3 profile-img",
                      width: 50, height: 50,
                      style: "object-fit: cover;" %>
              <% else %>
                <%= image_tag "no_image.png", class: "mt-3 profile-img", width: 50, height: 50, style: "object-fit: cover;" %>
              <% end %>

              <p class="caption h4 mt-4"><%= user.name %></p>
            </div>

            <p class="caption h4"><%= user.name %></p>
            <p class="caption"><%= "#{user.posts.count} 投稿" %></p>

          <% end %>
        </div>
      <% end %>
    </div>

    <%= paginate @users %>
  </div>
</div>
